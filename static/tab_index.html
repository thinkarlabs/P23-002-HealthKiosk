<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
	<title>Think Healthcare</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="https://www.asthrasoft.com/site/img/favicon.ico">

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" >
	<link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.2/dist/bootstrap-table.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
  </head>
  <body onload="x_load('tab.login');">
	<div id='x-body' class='container-full'>
	

	</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.1.0.min.js" defer></script>
	<script src="https://mozilla.github.io/nunjucks/files/nunjucks.min.js" defer></script>
	<script src="/static/js/app/routes.js?v0.02d" defer></script>
	<script src="/static/js/app/rubixSPA.js?v0.02a" defer></script>


	<script>
		//--------------------
		// GET USER MEDIA CODE
		//--------------------
			navigator.getUserMedia = ( navigator.getUserMedia ||
							   navigator.webkitGetUserMedia ||
							   navigator.mozGetUserMedia ||
							   navigator.msGetUserMedia);
  
		var video;
		var webcamStream;
			  
		function startWebcam() {
		  if (navigator.getUserMedia) {
			 navigator.getUserMedia (
  
				// constraints
				{
				   video: true,
				   audio: false
				},
  
				// successCallback
				function(localMediaStream) {
					video = document.querySelector('video');
				   video.srcObject=localMediaStream;
				   webcamStream = localMediaStream;
				},
  
				// errorCallback
				function(err) {
				   console.log("The following error occured: " + err);
				}
			 );
		  } else {
			 console.log("getUserMedia not supported");
		  }  
		}
			  
		function stopWebcam() {
			webcamStream.stop();
		}
		//---------------------
		// TAKE A SNAPSHOT CODE
		//---------------------
		var canvas, ctx;
  
		function init() {
		  // Get the canvas and obtain a context for
		  // drawing in it
		  canvas = document.getElementById("myCanvas");
		  ctx = canvas.getContext('2d');
		}
		//window.onload=init;
		function snapshot() {
			canvas = document.getElementById("myCanvas");
		  ctx = canvas.getContext('2d');
		   // Draws current image from the video element into the canvas
		  ctx.drawImage(video, 0,0, canvas.width, canvas.height);
		  //var myImage = canvas.toDataURL("image/png");
		  base64 = canvas.toDataURL().split(';base64,')[1]; 
		  document.getElementById('data64').innerHTML = 
                '<input type="hidden" id="custId" name="custId" value="' + base64 + '"/>';
		}
  
	</script>

  </body>
</html>